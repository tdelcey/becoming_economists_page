<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Thomas Delcey">
<meta name="author" content="Aurelien Goutsmedt">
<meta name="dcterms.date" content="2025-02-01">

<title>Exploring trendy topics in French Ph.D.&nbsp;(1900-2023)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Exploring trendy topics in French Ph.D.&nbsp;(1900-2023)</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../assets/website_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://github.com/tdelcey/becoming_economists">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://github.com/tdelcey/becoming_economists/issues">
            Report a Bug
            </a>
          </li>
      </ul>
    </div>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../documentation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Documentation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../application.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Application</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../news.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">News</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#exploring-data" id="toc-exploring-data" class="nav-link active" data-scroll-target="#exploring-data">Exploring data</a></li>
  <li><a href="#running-the-structural-topic-model" id="toc-running-the-structural-topic-model" class="nav-link" data-scroll-target="#running-the-structural-topic-model">Running the structural topic model</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/tdelcey/becoming_economists/blob/main/application/stm_title/index.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/tdelcey/becoming_economists/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploring trendy topics in French Ph.D.&nbsp;(1900-2023)</h1>
  <div class="quarto-categories">
    <div class="quarto-category">French data</div>
  </div>
  </div>


<div class="quarto-title-meta-author column-body">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Thomas Delcey <a href="mailto:Thomas.delcey@u-bourgogne.fr" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Université de Bourgogne
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Aurelien Goutsmedt <a href="mailto:aurelien.goutsmedt@uclouvain.be" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            UC Louvain; ICHEC
          </p>
      </div>
  </div>

<div class="quarto-title-meta column-body">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 1, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>In this first blog article, we explore the evolution of topics of French theses over the 20th and early 21st centuries.</p>
<section id="exploring-data" class="level3">
<h3 class="anchored" data-anchor-id="exploring-data">Exploring data</h3>
<p>Note that the French sources used to create our database contained duplicate theses. It is necessary to address these duplicates appropriately before conducting any analysis. Duplicates can be easily identified using the <code>duplicates</code> column in the <code>thesis_metadata</code> table. In the example script below, we identify duplicate entries and retain the record with the most recent <code>year_defence</code>, assuming that the most recent version of the thesis is the most relevant.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>thesis_metadata <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(FR_cleaned_data_path, <span class="st">"thesis_metadata.rds"</span>))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># PRE-CLEANING </span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># manage duplicate</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>duplicates <span class="ot">&lt;-</span> thesis_metadata <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(duplicates)) <span class="sc">%&gt;%</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(duplicates) <span class="sc">%&gt;%</span> </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>   <span class="co"># when the line has a duplicate, group and keep the older value</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">slice_min</span>(year_defence, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>thesis_metadata_no_duplicate <span class="ot">&lt;-</span> thesis_metadata <span class="sc">%&gt;%</span> </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(duplicates)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(duplicates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The primary textual data providing information on thesis topics are the titles (<code>title_fr</code> and <code>title_en</code>) and the abstracts (<code>abstract_fr</code> and <code>abstract_en</code>). The first question to consider is the choice of language. Historically, French PhD theses were predominantly written in French. Over time, however, they were increasingly translated into English or even primarily written in English.</p>
<p>To determine the main language of a thesis, one can refer to the <code>language</code> variable. This variable is sourced directly from Sudoc and Theses.fr, and it reflects the primary language of the thesis. As shown in <a href="#fig-main_language" class="quarto-xref">Figure&nbsp;1</a>, English has become the predominant language for French PhD students, but this shift has occurred only recently. Additionally, theses in English are often accompanied by a French translation of the title and abstract. Therefore, to analyze the evolution of topics over an extended period, the French textual data are more relevant.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data_summary <span class="ot">&lt;-</span> thesis_metadata_no_duplicate <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if language is not fr or en, becomes "other"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">language =</span> <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(language, <span class="st">"fr|en"</span>), language, <span class="st">"other"</span>),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">language =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(language), language, <span class="st">"other"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate share of each languages by year </span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>(year_defence, <span class="at">name =</span> <span class="st">"freq_thesis"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(language, year_defence, freq_thesis, <span class="at">name =</span> <span class="st">"freq_language"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">share =</span> freq_language<span class="sc">/</span>freq_thesis) <span class="sc">%&gt;%</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_defence <span class="sc">&gt;</span> <span class="dv">1994</span>) </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># plot </span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> data_summary <span class="sc">%&gt;%</span> </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(language <span class="sc">!=</span> <span class="st">"other"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_defence, <span class="at">y =</span> share, <span class="at">color =</span> language)) <span class="sc">+</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">span =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_wsj</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"English"</span>, <span class="st">"French"</span>)) <span class="sc">+</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">1995</span>, <span class="dv">2020</span>, <span class="dv">5</span>), <span class="dv">2023</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_hc</span>() <span class="sc">+</span> </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Proportion of theses"</span>,</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Thesis language"</span>)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-main_language" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-main_language-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-main_language-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;1: In which language are the theses written?"><img src="index_files/figure-html/fig-main_language-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-main_language-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: In which language are the theses written?
</figcaption>
</figure>
</div>
</div>
</div>
<p>While abstracts are undoubtedly a richer source of textual data, they are less rarely available. As shown in <a href="#fig-textual_data" class="quarto-xref">Figure&nbsp;2</a>, writing an abstract only became common practice starting from the 1970s. In this blog article, we will thus exploit only the <code>title_fr</code> column to understand the evolution of topics from 1900.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># abstract available</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>data_summary <span class="ot">&lt;-</span> thesis_metadata_no_duplicate <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">title_available =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(title_fr), <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">ab_available =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(abstract_fr), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add_count(title_available, year_defence, name = "n_title") %&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add_count(ab_available, year_defence, name = "n_ab") %&gt;%</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_ab =</span> <span class="fu">sum</span>(ab_available),</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">n_title =</span> <span class="fu">sum</span>(title_available),</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">.by =</span> <span class="st">"year_defence"</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># distribution </span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> data_summary <span class="sc">%&gt;%</span> </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a> <span class="co"># filter(ab_available == 1) %&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_defence, <span class="at">y =</span> n_ab), <span class="at">color =</span> ggthemes_data<span class="sc">$</span>wsj<span class="sc">$</span>palettes<span class="sc">$</span>red_green<span class="sc">$</span>value[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">""</span>,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"theses with a french abstract"</span>) <span class="sc">+</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_hc</span>() <span class="sc">+</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(data_summary<span class="sc">$</span>n_title)))</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> data_summary <span class="sc">%&gt;%</span> </span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(title_available == 1) %&gt;%</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_defence, <span class="at">y =</span> n_title), <span class="at">color =</span> ggthemes_data<span class="sc">$</span>wsj<span class="sc">$</span>palettes<span class="sc">$</span>red_green<span class="sc">$</span>value[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">""</span>,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"theses with a french title"</span>) <span class="sc">+</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_hc</span>()</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>p2 <span class="sc">+</span> p1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-textual_data" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-textual_data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-textual_data-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;2: Availability of titles or abstracts"><img src="index_files/figure-html/fig-textual_data-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-textual_data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Availability of titles or abstracts
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="running-the-structural-topic-model" class="level1">
<h1>Running the structural topic model</h1>
<p>To identify “trendy topics” in our data, we use the structural topic model, a probabilistic topic model implemented in <code>R</code> through the <code>stm</code> package.</p>
<p>Probabilistic topic models are a class of machine learning models designed to classify textual data into topics. In such models:</p>
<ul>
<li><strong>Documents are topic mixtures</strong>: Each document is represented as a mixture of <span class="math inline">\(K\)</span> topics. For each document, the model estimates the probability that the document contains a given topic <span class="math inline">\(k\)</span>. This is referred to as topic prevalence, denoted as <span class="math inline">\(\theta_{1:D}\)</span> where <span class="math inline">\(\theta_{d}\)</span> represents the probability distribution over topics for document <span class="math inline">\(d\)</span>.</li>
<li><strong>Topics are word mixtures</strong>: Each topic is represented as a mixture of words from the corpus vocabulary, which is the list of unique words used in the entire corpus. For each topic, the model estimates the probability that a particular word belongs to that topic. This is referred to as topic content, denoted as <span class="math inline">\(\beta_{1:K}\)</span> where <span class="math inline">\(\beta_{k}\)</span> represents the probability distribution over the vocabulary for topic <span class="math inline">\(k\)</span>.</li>
</ul>
<p>These probabilities are estimated using a generative process. Intuitively, a topic model initializes the topic prevalence and topic content, uses them to generate a simulated corpus of documents, and then compares this simulated corpus to the observed one to adjust the topic prevalence and content. The input to a topic model is the document frequency matrix (DFM), also referred to as the document-term matrix. In this matrix, rows represent documents, columns represent unique words in the vocabulary, and cell values indicate the frequency of each word in a given document. The model evaluates how well the current <span class="math inline">\(\theta_{1:D}\)</span> and <span class="math inline">\(\beta_{1:K}\)</span> fit the corpus distribution and iteratively updates these parameters to improve the fit. For a comprehensive presentation of the generative and training process, see <span class="citation" data-cites="blei2012probabilistic">Blei (<a href="#ref-blei2012probabilistic" role="doc-biblioref">2012</a>)</span>.</p>
<p>The <code>stm</code> package <span class="citation" data-cites="roberts2013structural">(<a href="#ref-roberts2013structural" role="doc-biblioref">Roberts et al. 2013</a>)</span> implemented a topic model whose main feature is to offer a framework to explore the relationship between the metadata of the documents and the prevalence of topics. The metadata helps in training a topic model and in estimating the topic prevalence over documents. Regression analysis allows to measure precisely the controlled effect of each metadata on topics prevalence.</p>
<p>To train our topic model, we must first prepare the data by constructing the document frequency matrix (DFM), which serves as the primary input for the <code>stm</code> package. This process begins with tokenization—the identification of individual words in <code>title_fr.</code> Tokenization typically also includes transforming the data by removing irrelevant words, such as stopwords, to improve the quality of the analysis and computational efficiency.</p>
<p>In the script below, we include bigrams, which are pairs of words, when they frequently co-occur. For example, in acorpus containing economic documents, the words “interest” and “rates” might be combined into the term “interest_rates” as they often go together.</p>
<p>We finally run a structural topic model for <span class="math inline">\(K = 100\)</span>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># STEP 1: DATA PREPARATION</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Select relevant variables from the dataset</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Retain only rows with non-missing titles and defense years.</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> thesis_metadata_no_duplicate <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(thesis_id, title_fr, abstract_fr, year_defence) <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(title_fr), <span class="sc">!</span><span class="fu">is.na</span>(year_defence))</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># STEP 2: TOKENIZATION AND PARSING</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the spaCy model for French</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure spaCy is installed and the French language model is downloaded.</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># spacy_install(force = TRUE)</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># spacy_download_langmodel("fr_core_news_lg", force = TRUE)</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="fu">spacy_initialize</span>(<span class="st">"fr_core_news_lg"</span>)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse titles using spaCy</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform pre-cleaning on French titles.</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>parsed <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">title_fr =</span> <span class="fu">str_to_lower</span>(title_fr),</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">title_fr =</span> <span class="fu">str_replace_all</span>(title_fr, <span class="st">""</span>, <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>               <span class="fu">str_replace_all</span>(., <span class="st">""</span>, <span class="st">" "</span>),</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">title_fr =</span> <span class="fu">str_replace_all</span>(title_fr, <span class="st">"-"</span>, <span class="st">" "</span>),</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title_fr =</span> <span class="fu">str_remove_all</span>(title_fr, <span class="st">"thèse soutenue le .*"</span>),</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">title_fr =</span> <span class="fu">str_remove_all</span>(title_fr, <span class="st">"thèse pour le doctorat"</span>),</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">title_fr =</span> <span class="fu">str_squish</span>(title_fr)</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(title_fr) <span class="sc">%&gt;%</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  spacyr<span class="sc">::</span><span class="fu">spacy_parse</span>(<span class="at">multithread =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Map thesis IDs to the parsed tokens</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>id <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(thesis_id) <span class="sc">%&gt;%</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">doc_id =</span> <span class="fu">paste0</span>(<span class="st">"text"</span>, <span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>()))</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>parsed <span class="ot">&lt;-</span> parsed <span class="sc">%&gt;%</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(id, <span class="fu">join_by</span>(doc_id)) <span class="sc">%&gt;%</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>doc_id)</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co"># STEP 3: TOKEN FILTERING AND CLEANING</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Load stop words for filtering</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>stop_words <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_stopwords</span>(<span class="at">language =</span> <span class="st">"fr"</span>, <span class="at">source =</span> <span class="st">"stopwords-iso"</span>),</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_stopwords</span>(<span class="at">language =</span> <span class="st">"fr"</span>, <span class="at">source =</span> <span class="st">"snowball"</span>),</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_stopwords</span>(<span class="at">language =</span> <span class="st">"en"</span>, <span class="at">source =</span> <span class="st">"snowball"</span>)</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(word) <span class="sc">%&gt;%</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(word)</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter and clean tokens, tracking document removals</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>parsed_filtered <span class="ot">&lt;-</span> parsed <span class="sc">%&gt;%</span></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Count original ids</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">original_count =</span> <span class="fu">n_distinct</span>(thesis_id)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter empty tokens and track removed ids</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>pos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"PUNCT"</span>, <span class="st">"SYM"</span>, <span class="st">"SPACE"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">after_filter1 =</span> <span class="fu">n_distinct</span>(thesis_id)) <span class="sc">%&gt;%</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>  { <span class="fu">message</span>(<span class="st">"Doc removed after filter: "</span>, <span class="fu">unique</span>(.<span class="sc">$</span>original_count) <span class="sc">-</span> <span class="fu">unique</span>(.<span class="sc">$</span>after_filter1)); . } <span class="sc">%&gt;%</span> </span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>token <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"-"</span>, <span class="st">"δ"</span>, <span class="st">"α"</span>, <span class="st">"σ"</span>, <span class="st">"γ"</span>, <span class="st">"東一"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">after_filter2 =</span> <span class="fu">n_distinct</span>(thesis_id)) <span class="sc">%&gt;%</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>  { <span class="fu">message</span>(<span class="st">"Doc removed after filter: "</span>, <span class="fu">unique</span>(.<span class="sc">$</span>after_filter2) <span class="sc">-</span> <span class="fu">unique</span>(.<span class="sc">$</span>after_filter1)); . } <span class="sc">%&gt;%</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove any digit token (including those with letters after digits such as 12eme)</span></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(token, <span class="st">"^</span><span class="sc">\\</span><span class="st">d+.*$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">after_filter3 =</span> <span class="fu">n_distinct</span>(thesis_id)) <span class="sc">%&gt;%</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>  { <span class="fu">message</span>(<span class="st">"Doc removed after filter: "</span>, <span class="fu">unique</span>(.<span class="sc">$</span>after_filter3) <span class="sc">-</span> <span class="fu">unique</span>(.<span class="sc">$</span>after_filter2)); . } <span class="sc">%&gt;%</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove pronouns and special characters</span></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">token =</span> <span class="fu">str_remove_all</span>(token, <span class="st">"^[ld]'"</span>),</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>         <span class="at">token =</span> <span class="fu">str_remove_all</span>(token, <span class="st">"[[:punct:]]"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter single letters and stopwords</span></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(token, <span class="st">"[[:letter:]]{2}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">after_filter4 =</span> <span class="fu">n_distinct</span>(thesis_id)) <span class="sc">%&gt;%</span></span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>  { <span class="fu">message</span>(<span class="st">"Doc removed after filter: "</span>, <span class="fu">unique</span>(.<span class="sc">$</span>after_filter3) <span class="sc">-</span> <span class="fu">unique</span>(.<span class="sc">$</span>after_filter4)); . } <span class="sc">%&gt;%</span></span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>token <span class="sc">%in%</span> stop_words) <span class="sc">%&gt;%</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">after_filter5 =</span> <span class="fu">n_distinct</span>(thesis_id)) <span class="sc">%&gt;%</span></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>  { <span class="fu">message</span>(<span class="st">"Doc removed after filter: "</span>, <span class="fu">unique</span>(.<span class="sc">$</span>after_filter5) <span class="sc">-</span> <span class="fu">unique</span>(.<span class="sc">$</span>after_filter4)); . } <span class="sc">%&gt;%</span></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create bigrams</span></span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(thesis_id, sentence_id) <span class="sc">%&gt;%</span></span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bigram =</span> <span class="fu">ifelse</span>(token_id <span class="sc">&lt;</span> <span class="fu">lead</span>(token_id), <span class="fu">str_c</span>(token, <span class="fu">lead</span>(token), <span class="at">sep =</span> <span class="st">"_"</span>), <span class="cn">NA</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a><span class="co"># STEP 4: BIGRAM CREATION AND FILTERING</span></span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a><span class="co"># Create and filter bigrams based on frequency and PMI</span></span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>bigrams <span class="ot">&lt;-</span> parsed_filtered <span class="sc">%&gt;%</span></span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(thesis_id, sentence_id, token_id, bigram) <span class="sc">%&gt;%</span></span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(bigram)) <span class="sc">%&gt;%</span></span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">window_id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>(bigram) <span class="sc">%&gt;%</span></span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(bigram, <span class="fu">c</span>(<span class="st">"word_1"</span>, <span class="st">"word_2"</span>), <span class="at">sep =</span> <span class="st">"_"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">if_all</span>(<span class="fu">starts_with</span>(<span class="st">"word"</span>), <span class="sc">~</span> <span class="sc">!</span> . <span class="sc">%in%</span> stop_words))</span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>bigram_pmi_values <span class="ot">&lt;-</span> bigrams <span class="sc">%&gt;%</span></span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"word"</span>), <span class="at">names_to =</span> <span class="st">"rank"</span>, <span class="at">values_to =</span> <span class="st">"word"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">paste0</span>(rank, <span class="st">"_"</span>, word)) <span class="sc">%&gt;%</span></span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(window_id, word, rank) <span class="sc">%&gt;%</span></span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>  widyr<span class="sc">::</span><span class="fu">pairwise_pmi</span>(word, window_id) <span class="sc">%&gt;%</span></span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(item1, pmi) <span class="sc">%&gt;%</span></span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(item1, <span class="st">"word_1"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"item"</span>), <span class="sc">~</span><span class="fu">str_remove</span>(., <span class="st">"word_(1|2)_"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">word_1 =</span> item1,</span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a>         <span class="at">word_2 =</span> item2,</span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a>         <span class="at">pmi_bigram =</span> pmi) <span class="sc">%&gt;%</span></span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(word_1) <span class="sc">%&gt;%</span></span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rank_pmi_bigram =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>())</span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a>bigrams_to_keep <span class="ot">&lt;-</span> bigrams <span class="sc">%&gt;%</span></span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(bigram_pmi_values) <span class="sc">%&gt;%</span></span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pmi_bigram <span class="sc">&gt;</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bigram =</span> <span class="fu">paste0</span>(word_1, <span class="st">"_"</span>, word_2)) <span class="sc">%&gt;%</span></span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(bigram) <span class="sc">%&gt;%</span></span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">keep_bigram =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a>parsed_final <span class="ot">&lt;-</span> parsed_filtered <span class="sc">%&gt;%</span></span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(bigrams_to_keep) <span class="sc">%&gt;%</span></span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">token =</span> <span class="fu">if_else</span>(keep_bigram, bigram, token, <span class="at">missing =</span> token),</span>
<span id="cb4-127"><a href="#cb4-127" aria-hidden="true" tabindex="-1"></a>         <span class="at">token =</span> <span class="fu">if_else</span>(<span class="fu">lag</span>(keep_bigram), <span class="fu">lag</span>(bigram), token, <span class="at">missing =</span> token),</span>
<span id="cb4-128"><a href="#cb4-128" aria-hidden="true" tabindex="-1"></a>         <span class="at">token_id =</span> <span class="fu">if_else</span>(<span class="fu">lag</span>(keep_bigram), token_id <span class="sc">-</span> <span class="dv">1</span>, token_id, <span class="at">missing =</span> token_id)) <span class="sc">%&gt;%</span></span>
<span id="cb4-129"><a href="#cb4-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(thesis_id, sentence_id, token_id, token)</span>
<span id="cb4-130"><a href="#cb4-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-131"><a href="#cb4-131" aria-hidden="true" tabindex="-1"></a>term_list <span class="ot">&lt;-</span> parsed_final <span class="sc">%&gt;%</span> </span>
<span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">term =</span> token)</span>
<span id="cb4-133"><a href="#cb4-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-134"><a href="#cb4-134" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-135"><a href="#cb4-135" aria-hidden="true" tabindex="-1"></a><span class="co"># STEP 5: STM INPUT PREPARATION</span></span>
<span id="cb4-136"><a href="#cb4-136" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-137"><a href="#cb4-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-138"><a href="#cb4-138" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare metadata for STM</span></span>
<span id="cb4-139"><a href="#cb4-139" aria-hidden="true" tabindex="-1"></a>metadata <span class="ot">&lt;-</span> term_list <span class="sc">%&gt;%</span></span>
<span id="cb4-140"><a href="#cb4-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(thesis_id) <span class="sc">%&gt;%</span> </span>
<span id="cb4-141"><a href="#cb4-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(data, <span class="at">by =</span> <span class="st">"thesis_id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-142"><a href="#cb4-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year_defence =</span> <span class="fu">as.numeric</span>(year_defence)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-143"><a href="#cb4-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(thesis_id, title_fr, year_defence) <span class="sc">%&gt;%</span></span>
<span id="cb4-144"><a href="#cb4-144" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter lines with na covariates </span></span>
<span id="cb4-145"><a href="#cb4-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(title_fr),</span>
<span id="cb4-146"><a href="#cb4-146" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span><span class="fu">is.na</span>(year_defence))</span>
<span id="cb4-147"><a href="#cb4-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-148"><a href="#cb4-148" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert term list to STM-ready format</span></span>
<span id="cb4-149"><a href="#cb4-149" aria-hidden="true" tabindex="-1"></a>corpus_in_dfm <span class="ot">&lt;-</span> term_list <span class="sc">%&gt;%</span></span>
<span id="cb4-150"><a href="#cb4-150" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove observations deleted by the metadata filter </span></span>
<span id="cb4-151"><a href="#cb4-151" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(thesis_id <span class="sc">%in%</span> metadata<span class="sc">$</span>thesis_id) <span class="sc">%&gt;%</span> </span>
<span id="cb4-152"><a href="#cb4-152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>(term, thesis_id) <span class="sc">%&gt;%</span></span>
<span id="cb4-153"><a href="#cb4-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cast_dfm</span>(thesis_id, term, n)</span>
<span id="cb4-154"><a href="#cb4-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-155"><a href="#cb4-155" aria-hidden="true" tabindex="-1"></a>corpus_in_stm <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">convert</span>(corpus_in_dfm, <span class="at">to =</span> <span class="st">"stm"</span>,  <span class="at">docvars =</span> metadata)</span>
<span id="cb4-156"><a href="#cb4-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-157"><a href="#cb4-157" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-158"><a href="#cb4-158" aria-hidden="true" tabindex="-1"></a><span class="co"># STEP 6: RUNNING THE STM</span></span>
<span id="cb4-159"><a href="#cb4-159" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------</span></span>
<span id="cb4-160"><a href="#cb4-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-161"><a href="#cb4-161" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the STM formula with a spline function</span></span>
<span id="cb4-162"><a href="#cb4-162" aria-hidden="true" tabindex="-1"></a>formula_str <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"~ s(year_defence)"</span>)</span>
<span id="cb4-163"><a href="#cb4-163" aria-hidden="true" tabindex="-1"></a>formula_obj <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(formula_str)</span>
<span id="cb4-164"><a href="#cb4-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-165"><a href="#cb4-165" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the STM with specified parameters</span></span>
<span id="cb4-166"><a href="#cb4-166" aria-hidden="true" tabindex="-1"></a>stm <span class="ot">&lt;-</span></span>
<span id="cb4-167"><a href="#cb4-167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stm</span>(</span>
<span id="cb4-168"><a href="#cb4-168" aria-hidden="true" tabindex="-1"></a>    <span class="at">documents =</span> corpus_in_stm<span class="sc">$</span>documents,</span>
<span id="cb4-169"><a href="#cb4-169" aria-hidden="true" tabindex="-1"></a>    <span class="at">vocab =</span> corpus_in_stm<span class="sc">$</span>vocab,</span>
<span id="cb4-170"><a href="#cb4-170" aria-hidden="true" tabindex="-1"></a>    <span class="at">prevalence =</span> formula_obj,</span>
<span id="cb4-171"><a href="#cb4-171" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> corpus_in_stm<span class="sc">$</span>meta,</span>
<span id="cb4-172"><a href="#cb4-172" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="dv">100</span>, <span class="co"># given that there is 20 000 documents, K = 100 is a good start </span></span>
<span id="cb4-173"><a href="#cb4-173" aria-hidden="true" tabindex="-1"></a>    <span class="at">init.type =</span> <span class="st">"Spectral"</span>,</span>
<span id="cb4-174"><a href="#cb4-174" aria-hidden="true" tabindex="-1"></a>    <span class="at">verbose =</span> <span class="cn">TRUE</span>,</span>
<span id="cb4-175"><a href="#cb4-175" aria-hidden="true" tabindex="-1"></a>    <span class="at">seed =</span> <span class="dv">123</span></span>
<span id="cb4-176"><a href="#cb4-176" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="analysis" class="level1">
<h1>Analysis</h1>
<p>For each thesis, the topic model assigns a prevalence score to each topic, indicating the probability that a specific topic is present in the thesis. Averaging these probabilities across all theses yields the average prevalence, which can provide insights into the main topics appearing in theses titles. <a href="#fig-theta_summary" class="quarto-xref">Figure&nbsp;3</a> shows the top 20 average prevalence; for each topic we assign the most probable words from the topic content (the <span class="math inline">\(\beta_{1:K}\)</span> distributions). For instance, among the most prevalent topics, many are related to development economics.</p>
<div class="cell" data-fig-weight="20">
<div class="cell-output-display">
<div id="fig-theta_summary" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-theta_summary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-theta_summary-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figure&nbsp;3: Topics with highest average prevalence"><img src="index_files/figure-html/fig-theta_summary-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-theta_summary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Topics with highest average prevalence
</figcaption>
</figure>
</div>
</div>
</div>
<p>The average prevalence provides important insights into key topics but is insufficient for analyzing how this prevalence evolves over time. A straightforward way to capture the evolution of topics over time is simply to calculate the average prevalence by year (<code>year_defence</code>). A more sophisticated approach leverages the features of the <code>stm</code> framework to predict the prevalence of each topic based on <code>year_defence</code>. In this case, the goal is not merely to describe the average prevalence in a given year but to estimate the effect of a specific year on topic prevalence. This can be expressed using the following regression model:</p>
<p><span class="math display">\[ \theta_{d,k} = \beta_0 + \beta_1 * year_d + \epsilon_{d,k} \]</span> This regression approach allows for statistical inference by quantifying the strength and significance of the relationship between the year (<code>year_defence</code>) and topic prevalence. This enables us to formally test whether changes in prevalence over time are statistically meaningful, rather than merely observing trends in the data. <a href="#fig-prevalence_descriptive_inference" class="quarto-xref">Figure&nbsp;4</a> compares the result of both analyses.</p>
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>metadata <span class="ot">&lt;-</span> corpus_in_stm<span class="sc">$</span>meta <span class="sc">%&gt;%</span> as_tibble <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_defence =</span> <span class="fu">as.numeric</span>(year_defence),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">document =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year_defence, document)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy call gamma the prevalence matrix, stm calls it theta</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>theta <span class="ot">&lt;-</span> broom<span class="sc">::</span><span class="fu">tidy</span>(stm, <span class="at">matrix =</span> <span class="st">"gamma"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># broom called stm theta matrix gamma</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(top_terms_prob, <span class="at">by =</span> <span class="st">"topic"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(metadata, <span class="at">by =</span> <span class="st">"document"</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># calulate average mean by year for topic 63 </span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>theta_mean_63 <span class="ot">&lt;-</span> theta <span class="sc">%&gt;%</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">63</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(topic, topic_label_prob, year_defence) <span class="sc">%&gt;%</span> </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">theta_mean =</span> <span class="fu">mean</span>(gamma))</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co">#plot </span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">&lt;-</span> theta_mean_63 <span class="sc">%&gt;%</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_defence, <span class="at">y =</span> theta_mean)) <span class="sc">+</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> ggthemes_data<span class="sc">$</span>wsj<span class="sc">$</span>palettes<span class="sc">$</span>red_green<span class="sc">$</span>value[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Average prevalence"</span>, </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Words:"</span>, <span class="fu">unique</span>(theta_mean_63<span class="sc">$</span>topic_label_prob))) <span class="sc">+</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1900</span>, <span class="dv">2020</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>ee_date_63 <span class="ot">&lt;-</span> tidystm<span class="sc">::</span><span class="fu">extract.estimateEffect</span>(</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>  estimate_effect,</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year_defence"</span>,</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  stm,</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"continuous"</span>,</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># uncomment if you had an interaction effect</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># moderator = "gender_expanded",</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># moderator.value = c("male", "female")</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(top_terms_prob, <span class="at">by =</span> <span class="st">"topic"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">63</span>) </span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>plot2 <span class="ot">&lt;-</span> ee_date_63 <span class="sc">%&gt;%</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> covariate.value)) <span class="sc">+</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> estimate), <span class="at">color =</span> ggthemes_data<span class="sc">$</span>wsj<span class="sc">$</span>palettes<span class="sc">$</span>red_green<span class="sc">$</span>value[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> ci.lower), <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> ggthemes_data<span class="sc">$</span>wsj<span class="sc">$</span>palettes<span class="sc">$</span>red_green<span class="sc">$</span>value[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> ci.upper), <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> ggthemes_data<span class="sc">$</span>wsj<span class="sc">$</span>palettes<span class="sc">$</span>red_green<span class="sc">$</span>value[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>,</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>,</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1900</span>, <span class="dv">2020</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Words:"</span>, <span class="fu">unique</span>(ee_date_63<span class="sc">$</span>topic_label)),</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Intervalle à 95%"</span>,</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Expected prevalence"</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">3</span>))</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plot1)</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-prevalence_descriptive_inference" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-prevalence_descriptive_inference-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-prevalence_descriptive_inference" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-prevalence_descriptive_inference-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-prevalence_descriptive_inference-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-prevalence_descriptive_inference-1.png" class="lightbox" data-gallery="fig-prevalence_descriptive_inference" title="Figure&nbsp;4&nbsp;(a): Average prevalence"><img src="index_files/figure-html/fig-prevalence_descriptive_inference-1.png" class="img-fluid figure-img" data-ref-parent="fig-prevalence_descriptive_inference" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-prevalence_descriptive_inference-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Average prevalence
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-prevalence_descriptive_inference" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-prevalence_descriptive_inference-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-prevalence_descriptive_inference-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-prevalence_descriptive_inference-2.png" class="lightbox" data-gallery="fig-prevalence_descriptive_inference" title="Figure&nbsp;4&nbsp;(b): Predicted prevalence"><img src="index_files/figure-html/fig-prevalence_descriptive_inference-2.png" class="img-fluid figure-img" data-ref-parent="fig-prevalence_descriptive_inference" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-prevalence_descriptive_inference-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Predicted prevalence
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-prevalence_descriptive_inference-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Prevalence over time
</figcaption>
</figure>
</div>
<p>Note also that by applying a spline function to <code>year_defence</code>, this method is still able to capture the non-linear behavior of prevalence over time with greater precision. Check <a href="#nte-spline" class="quarto-xref">Note&nbsp;1</a> if you are interested in the methodology behind spline effect.</p>
<div id="nte-spline" class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note&nbsp;1: The b-spline function
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In a linear model, the estimator <span class="math inline">\(\beta_1\)</span> for a time variable, such as years, measures the marginal effect of an additional year on the expected prevalence of the topic. This linearity does not allow for the identification of non-linear effects, such as a high prevalence during the 1990s followed by a decline. To address this, we apply a b-spline function to the year to capture potential non-linear effects. Formally, our estimator for the variable <span class="math inline">\(year_d\)</span> becomes a linear combination of <span class="math inline">\(n\)</span> estimators and polynomial functions <span class="math inline">\(B(x)\)</span>, also known in this context as basis functions.</p>
<p><span class="math display">\[\beta_1 * year_d = \sum_1^n \alpha_1 \times B_{1}(year_d) + ... + \alpha_{n}\times B_{n}(year_d)\]</span> This B-spline transformation is performed in <code>R</code> using the function <code>stm::s(df = 10)</code>, a wrapper for the <code>splines::bs()</code> function.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compute basis function </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>splines <span class="ot">&lt;-</span>  <span class="fu">cbind</span>(<span class="fu">tibble</span>(<span class="at">year =</span> <span class="dv">1900</span><span class="sc">:</span><span class="dv">2023</span>), stm<span class="sc">::</span><span class="fu">s</span>(<span class="dv">1900</span><span class="sc">:</span><span class="dv">2023</span>, <span class="at">df =</span> <span class="dv">10</span>))</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>splines <span class="ot">&lt;-</span>  reshape2<span class="sc">::</span><span class="fu">melt</span>(splines, <span class="at">id.var =</span> <span class="st">"year"</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(splines, <span class="fu">aes</span>(</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> year,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> value,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> variable,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> variable</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">+</span> </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"x"</span>,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">unname</span>(latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">"$B_n(x)$"</span>)),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"n"</span>) <span class="sc">+</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_pander</span>() <span class="sc">+</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-b-spline" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-b-spline-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-b-spline-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Figure&nbsp;5: Les fonctions de base d’une transformation b-spline pour n = 10"><img src="index_files/figure-html/fig-b-spline-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-b-spline-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Les fonctions de base d’une transformation b-spline pour n = 10
</figcaption>
</figure>
</div>
</div>
</div>
<p>The drawback of such an approach is that the estimators <span class="math inline">\(\alpha_1 ... \alpha_n\)</span> are not interpretable. Each coefficient represents the weight of a polynomial function <span class="math inline">\(B_n\)</span> in the total prevalence. Rather than focusing on the regression table, it is more insightful to directly calculate the model’s expected prevalence.</p>
</div>
</div>
</div>
<p>The regression model is estimated using the <code>stm::estimateEffect()</code> function. While the regression could alternatively be performed using standard statistical packages in R, such as <code>stats::lm()</code>, <code>estimateEffect</code> offers an important advantage. Unlike a simple <code>lm(theta ~ covariates)</code>, <code>estimateEffect</code> accounts for the uncertainty in the topic prevalence that arises from the <code>stm()</code> estimation. In essence, instead of directly predicting the estimated prevalence, <span class="math inline">\(\theta_{d,k}\)</span>, it predicts a set of simulated prevalences, incorporating the uncertainty from the structural topic model estimation process. The core methodology is implemented in the internal function <code>stm::thetaPosterior()</code> internal function, available <a href="https://rdrr.io/cran/stm/man/thetaPosterior.html">here</a>. We can then compute the expected topic prevalence for each topic and for each value of <code>year_defence</code>.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run a regression predicting prevalence with the year of defence</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create a covariate table and ensure proper it is coded with the proper format </span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>metadata <span class="ot">&lt;-</span> corpus_in_stm<span class="sc">$</span>meta <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  as_tibble <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year_defence =</span> <span class="fu">as.numeric</span>(year_defence))</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create regression formula </span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>formula_str <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"~ s(year_defence)"</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>formula_obj <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(formula_str)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># run regression </span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>estimate_effect <span class="ot">&lt;-</span> <span class="fu">estimateEffect</span>(formula_obj,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>                                  stm,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">metadata =</span> metadata,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">uncertainty =</span> <span class="st">"Global"</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">nsims =</span> <span class="dv">25</span>)</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the expected prevalence for values in year_defence </span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co"># simulate 25 prevalence using eta matrix and predict expected prevalence for 100 year_defence values in the range 1900:2023</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co"># see details in the internal stm::plotContinuous function </span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>ee_year <span class="ot">&lt;-</span> tidystm<span class="sc">::</span><span class="fu">extract.estimateEffect</span>(</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  estimate_effect,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">"year_defence"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>  stm,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"continuous"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add topic label </span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(top_terms_prob, <span class="at">by =</span> <span class="st">"topic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We can now examine the evolution of topics in French theses since 1900. Figure <a href="#fig-top_max" class="quarto-xref">Figure&nbsp;6</a> illustrates the topics with the greatest increases and decreases in prevalence over this period, measured as the difference between 1900 and 2023. Even this preliminary topic modeling provides valuable insights into the transformation of French economics.</p>
<p>For instance, the declining topics are characterized by terminology associated with legal vocabulary, reflecting the significant role of law faculties in shaping French academic disciplines during the first half of the 20th century. Conversely, the increasing topics predominantly feature terms related to applied and contemporary research questions, such as inequality and the environment.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Top</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">All topics</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ee_year <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(website_data_path, <span class="st">"ee_year.rds"</span>))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># function to estimate variation of theta between 1900 and </span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>delta_theta <span class="ot">&lt;-</span> ee_year <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span> <span class="co"># Group by topic</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(<span class="at">delta =</span> estimate[<span class="fu">n</span>()] <span class="sc">-</span> estimate[<span class="dv">1</span>]) <span class="co"># Difference between the last and first estimate)</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>max_delta <span class="ot">&lt;-</span> delta_theta <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(delta, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>gg_max <span class="ot">&lt;-</span> ee_year <span class="sc">%&gt;%</span> </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">%in%</span> max_delta<span class="sc">$</span>topic) <span class="sc">%&gt;%</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> covariate.value,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="fu">paste0</span>(topic, <span class="st">" : "</span>, topic_label_prob),</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> estimate)) <span class="sc">+</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Expected topic prevalence"</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">3</span>),</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,       <span class="co"># Positionne la légende en bas du graphique</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="co"># Ajuste la taille du texte dans la légende</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>) <span class="co"># Ajuste la taille du titre de la légende</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">5</span>)) <span class="sc">+</span> <span class="co"># Place la légende sur une seule ligne</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1900</span>, <span class="dv">2020</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_wsj</span>()</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>min_delta <span class="ot">&lt;-</span> delta_theta <span class="sc">%&gt;%</span> <span class="fu">slice_min</span>(delta, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>gg_min <span class="ot">&lt;-</span> ee_year <span class="sc">%&gt;%</span> </span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">%in%</span> min_delta<span class="sc">$</span>topic) <span class="sc">%&gt;%</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> covariate.value,</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="fu">paste0</span>(topic, <span class="st">" : "</span>, topic_label_prob),</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> estimate)) <span class="sc">+</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">3</span>),</span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,       <span class="co"># Positionne la légende en bas du graphique</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>), <span class="co"># Ajuste la taille du texte dans la légende</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>) <span class="co"># Ajuste la taille du titre de la légende</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">5</span>)) <span class="sc">+</span> <span class="co"># Place la légende sur une seule ligne</span></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1900</span>, <span class="dv">2020</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_wsj</span>()</span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>gg_min</span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>gg_max</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-top_max" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-top_max-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-top_max" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-top_max-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-top_max-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-top_max-1.png" class="lightbox" data-gallery="fig-top_max" title="Figure&nbsp;6&nbsp;(a): Top 5 negative variation between 1900 and 2023"><img src="index_files/figure-html/fig-top_max-1.png" class="img-fluid figure-img" data-ref-parent="fig-top_max" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-top_max-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Top 5 negative variation between 1900 and 2023
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-top_max" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-top_max-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-top_max-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="index_files/figure-html/fig-top_max-2.png" class="lightbox" data-gallery="fig-top_max" title="Figure&nbsp;6&nbsp;(b): Top 5 positive variation between 1900 and 2023"><img src="index_files/figure-html/fig-top_max-2.png" class="img-fluid figure-img" data-ref-parent="fig-top_max" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-top_max-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Top 5 positive variation between 1900 and 2023
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-top_max-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Prediction of the expected topic proportion according to the year of defence
</figcaption>
</figure>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Topic 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Topic 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Topic 3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Topic 4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false">Topic 5</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false">Topic 6</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-7" role="tab" aria-controls="tabset-1-7" aria-selected="false">Topic 7</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-8" role="tab" aria-controls="tabset-1-8" aria-selected="false">Topic 8</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-9" role="tab" aria-controls="tabset-1-9" aria-selected="false">Topic 9</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-10-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-10" role="tab" aria-controls="tabset-1-10" aria-selected="false">Topic 10</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-11-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-11" role="tab" aria-controls="tabset-1-11" aria-selected="false">Topic 11</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-12-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-12" role="tab" aria-controls="tabset-1-12" aria-selected="false">Topic 12</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-13-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-13" role="tab" aria-controls="tabset-1-13" aria-selected="false">Topic 13</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-14-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-14" role="tab" aria-controls="tabset-1-14" aria-selected="false">Topic 14</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-15-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-15" role="tab" aria-controls="tabset-1-15" aria-selected="false">Topic 15</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-16-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-16" role="tab" aria-controls="tabset-1-16" aria-selected="false">Topic 16</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-17-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-17" role="tab" aria-controls="tabset-1-17" aria-selected="false">Topic 17</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-18-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-18" role="tab" aria-controls="tabset-1-18" aria-selected="false">Topic 18</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-19-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-19" role="tab" aria-controls="tabset-1-19" aria-selected="false">Topic 19</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-20-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-20" role="tab" aria-controls="tabset-1-20" aria-selected="false">Topic 20</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-21-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-21" role="tab" aria-controls="tabset-1-21" aria-selected="false">Topic 21</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-22-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-22" role="tab" aria-controls="tabset-1-22" aria-selected="false">Topic 22</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-23-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-23" role="tab" aria-controls="tabset-1-23" aria-selected="false">Topic 23</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-24-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-24" role="tab" aria-controls="tabset-1-24" aria-selected="false">Topic 24</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-25-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-25" role="tab" aria-controls="tabset-1-25" aria-selected="false">Topic 25</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-26-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-26" role="tab" aria-controls="tabset-1-26" aria-selected="false">Topic 26</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-27-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-27" role="tab" aria-controls="tabset-1-27" aria-selected="false">Topic 27</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-28-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-28" role="tab" aria-controls="tabset-1-28" aria-selected="false">Topic 28</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-29-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-29" role="tab" aria-controls="tabset-1-29" aria-selected="false">Topic 29</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-30-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-30" role="tab" aria-controls="tabset-1-30" aria-selected="false">Topic 30</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-31-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-31" role="tab" aria-controls="tabset-1-31" aria-selected="false">Topic 31</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-32-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-32" role="tab" aria-controls="tabset-1-32" aria-selected="false">Topic 32</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-33-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-33" role="tab" aria-controls="tabset-1-33" aria-selected="false">Topic 33</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-34-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-34" role="tab" aria-controls="tabset-1-34" aria-selected="false">Topic 34</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-35-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-35" role="tab" aria-controls="tabset-1-35" aria-selected="false">Topic 35</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-36-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-36" role="tab" aria-controls="tabset-1-36" aria-selected="false">Topic 36</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-37-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-37" role="tab" aria-controls="tabset-1-37" aria-selected="false">Topic 37</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-38-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-38" role="tab" aria-controls="tabset-1-38" aria-selected="false">Topic 38</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-39-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-39" role="tab" aria-controls="tabset-1-39" aria-selected="false">Topic 39</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-40-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-40" role="tab" aria-controls="tabset-1-40" aria-selected="false">Topic 40</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-41-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-41" role="tab" aria-controls="tabset-1-41" aria-selected="false">Topic 41</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-42-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-42" role="tab" aria-controls="tabset-1-42" aria-selected="false">Topic 42</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-43-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-43" role="tab" aria-controls="tabset-1-43" aria-selected="false">Topic 43</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-44-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-44" role="tab" aria-controls="tabset-1-44" aria-selected="false">Topic 44</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-45-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-45" role="tab" aria-controls="tabset-1-45" aria-selected="false">Topic 45</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-46-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-46" role="tab" aria-controls="tabset-1-46" aria-selected="false">Topic 46</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-47-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-47" role="tab" aria-controls="tabset-1-47" aria-selected="false">Topic 47</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-48-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-48" role="tab" aria-controls="tabset-1-48" aria-selected="false">Topic 48</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-49-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-49" role="tab" aria-controls="tabset-1-49" aria-selected="false">Topic 49</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-50-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-50" role="tab" aria-controls="tabset-1-50" aria-selected="false">Topic 50</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-51-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-51" role="tab" aria-controls="tabset-1-51" aria-selected="false">Topic 51</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-52-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-52" role="tab" aria-controls="tabset-1-52" aria-selected="false">Topic 52</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-53-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-53" role="tab" aria-controls="tabset-1-53" aria-selected="false">Topic 53</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-54-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-54" role="tab" aria-controls="tabset-1-54" aria-selected="false">Topic 54</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-55-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-55" role="tab" aria-controls="tabset-1-55" aria-selected="false">Topic 55</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-56-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-56" role="tab" aria-controls="tabset-1-56" aria-selected="false">Topic 56</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-57-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-57" role="tab" aria-controls="tabset-1-57" aria-selected="false">Topic 57</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-58-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-58" role="tab" aria-controls="tabset-1-58" aria-selected="false">Topic 58</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-59-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-59" role="tab" aria-controls="tabset-1-59" aria-selected="false">Topic 59</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-60-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-60" role="tab" aria-controls="tabset-1-60" aria-selected="false">Topic 60</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-61-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-61" role="tab" aria-controls="tabset-1-61" aria-selected="false">Topic 61</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-62-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-62" role="tab" aria-controls="tabset-1-62" aria-selected="false">Topic 62</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-63-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-63" role="tab" aria-controls="tabset-1-63" aria-selected="false">Topic 63</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-64-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-64" role="tab" aria-controls="tabset-1-64" aria-selected="false">Topic 64</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-65-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-65" role="tab" aria-controls="tabset-1-65" aria-selected="false">Topic 65</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-66-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-66" role="tab" aria-controls="tabset-1-66" aria-selected="false">Topic 66</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-67-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-67" role="tab" aria-controls="tabset-1-67" aria-selected="false">Topic 67</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-68-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-68" role="tab" aria-controls="tabset-1-68" aria-selected="false">Topic 68</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-69-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-69" role="tab" aria-controls="tabset-1-69" aria-selected="false">Topic 69</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-70-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-70" role="tab" aria-controls="tabset-1-70" aria-selected="false">Topic 70</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-71-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-71" role="tab" aria-controls="tabset-1-71" aria-selected="false">Topic 71</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-72-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-72" role="tab" aria-controls="tabset-1-72" aria-selected="false">Topic 72</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-73-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-73" role="tab" aria-controls="tabset-1-73" aria-selected="false">Topic 73</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-74-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-74" role="tab" aria-controls="tabset-1-74" aria-selected="false">Topic 74</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-75-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-75" role="tab" aria-controls="tabset-1-75" aria-selected="false">Topic 75</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-76-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-76" role="tab" aria-controls="tabset-1-76" aria-selected="false">Topic 76</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-77-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-77" role="tab" aria-controls="tabset-1-77" aria-selected="false">Topic 77</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-78-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-78" role="tab" aria-controls="tabset-1-78" aria-selected="false">Topic 78</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-79-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-79" role="tab" aria-controls="tabset-1-79" aria-selected="false">Topic 79</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-80-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-80" role="tab" aria-controls="tabset-1-80" aria-selected="false">Topic 80</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-81-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-81" role="tab" aria-controls="tabset-1-81" aria-selected="false">Topic 81</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-82-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-82" role="tab" aria-controls="tabset-1-82" aria-selected="false">Topic 82</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-83-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-83" role="tab" aria-controls="tabset-1-83" aria-selected="false">Topic 83</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-84-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-84" role="tab" aria-controls="tabset-1-84" aria-selected="false">Topic 84</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-85-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-85" role="tab" aria-controls="tabset-1-85" aria-selected="false">Topic 85</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-86-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-86" role="tab" aria-controls="tabset-1-86" aria-selected="false">Topic 86</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-87-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-87" role="tab" aria-controls="tabset-1-87" aria-selected="false">Topic 87</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-88-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-88" role="tab" aria-controls="tabset-1-88" aria-selected="false">Topic 88</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-89-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-89" role="tab" aria-controls="tabset-1-89" aria-selected="false">Topic 89</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-90-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-90" role="tab" aria-controls="tabset-1-90" aria-selected="false">Topic 90</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-91-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-91" role="tab" aria-controls="tabset-1-91" aria-selected="false">Topic 91</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-92-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-92" role="tab" aria-controls="tabset-1-92" aria-selected="false">Topic 92</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-93-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-93" role="tab" aria-controls="tabset-1-93" aria-selected="false">Topic 93</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-94-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-94" role="tab" aria-controls="tabset-1-94" aria-selected="false">Topic 94</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-95-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-95" role="tab" aria-controls="tabset-1-95" aria-selected="false">Topic 95</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-96-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-96" role="tab" aria-controls="tabset-1-96" aria-selected="false">Topic 96</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-97-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-97" role="tab" aria-controls="tabset-1-97" aria-selected="false">Topic 97</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-98-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-98" role="tab" aria-controls="tabset-1-98" aria-selected="false">Topic 98</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-99-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-99" role="tab" aria-controls="tabset-1-99" aria-selected="false">Topic 99</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-100-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-100" role="tab" aria-controls="tabset-1-100" aria-selected="false">Topic 100</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="index_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="index_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="index_files/figure-html/unnamed-chunk-18-3.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="index_files/figure-html/unnamed-chunk-18-4.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-5.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="index_files/figure-html/unnamed-chunk-18-5.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-6.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="index_files/figure-html/unnamed-chunk-18-6.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-7-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-7.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="index_files/figure-html/unnamed-chunk-18-7.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-8-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-8.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="index_files/figure-html/unnamed-chunk-18-8.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-9-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-9.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="index_files/figure-html/unnamed-chunk-18-9.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-10" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-10-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-10.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="index_files/figure-html/unnamed-chunk-18-10.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-11" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-11-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-11.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="index_files/figure-html/unnamed-chunk-18-11.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-12" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-12-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-12.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="index_files/figure-html/unnamed-chunk-18-12.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-13" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-13-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-13.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img src="index_files/figure-html/unnamed-chunk-18-13.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-14" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-14-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-14.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img src="index_files/figure-html/unnamed-chunk-18-14.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-15" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-15-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-15.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img src="index_files/figure-html/unnamed-chunk-18-15.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-16" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-16-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-16.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img src="index_files/figure-html/unnamed-chunk-18-16.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-17" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-17-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-17.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img src="index_files/figure-html/unnamed-chunk-18-17.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-18" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-18-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-18.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img src="index_files/figure-html/unnamed-chunk-18-18.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-19" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-19-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-19.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img src="index_files/figure-html/unnamed-chunk-18-19.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-20" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-20-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-20.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img src="index_files/figure-html/unnamed-chunk-18-20.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-21" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-21-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-21.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img src="index_files/figure-html/unnamed-chunk-18-21.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-22" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-22-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-22.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img src="index_files/figure-html/unnamed-chunk-18-22.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-23" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-23-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-23.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31"><img src="index_files/figure-html/unnamed-chunk-18-23.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-24" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-24-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-24.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32"><img src="index_files/figure-html/unnamed-chunk-18-24.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-25" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-25-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-25.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33"><img src="index_files/figure-html/unnamed-chunk-18-25.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-26" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-26-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-26.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34"><img src="index_files/figure-html/unnamed-chunk-18-26.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-27" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-27-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-27.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35"><img src="index_files/figure-html/unnamed-chunk-18-27.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-28" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-28-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-28.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36"><img src="index_files/figure-html/unnamed-chunk-18-28.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-29" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-29-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-29.png" class="lightbox" data-gallery="quarto-lightbox-gallery-37"><img src="index_files/figure-html/unnamed-chunk-18-29.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-30" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-30-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-30.png" class="lightbox" data-gallery="quarto-lightbox-gallery-38"><img src="index_files/figure-html/unnamed-chunk-18-30.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-31" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-31-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-31.png" class="lightbox" data-gallery="quarto-lightbox-gallery-39"><img src="index_files/figure-html/unnamed-chunk-18-31.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-32" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-32-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-32.png" class="lightbox" data-gallery="quarto-lightbox-gallery-40"><img src="index_files/figure-html/unnamed-chunk-18-32.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-33" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-33-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-33.png" class="lightbox" data-gallery="quarto-lightbox-gallery-41"><img src="index_files/figure-html/unnamed-chunk-18-33.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-34" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-34-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-34.png" class="lightbox" data-gallery="quarto-lightbox-gallery-42"><img src="index_files/figure-html/unnamed-chunk-18-34.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-35" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-35-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-35.png" class="lightbox" data-gallery="quarto-lightbox-gallery-43"><img src="index_files/figure-html/unnamed-chunk-18-35.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-36" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-36-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-36.png" class="lightbox" data-gallery="quarto-lightbox-gallery-44"><img src="index_files/figure-html/unnamed-chunk-18-36.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-37" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-37-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-37.png" class="lightbox" data-gallery="quarto-lightbox-gallery-45"><img src="index_files/figure-html/unnamed-chunk-18-37.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-38" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-38-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-38.png" class="lightbox" data-gallery="quarto-lightbox-gallery-46"><img src="index_files/figure-html/unnamed-chunk-18-38.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-39" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-39-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-39.png" class="lightbox" data-gallery="quarto-lightbox-gallery-47"><img src="index_files/figure-html/unnamed-chunk-18-39.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-40" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-40-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-40.png" class="lightbox" data-gallery="quarto-lightbox-gallery-48"><img src="index_files/figure-html/unnamed-chunk-18-40.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-41" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-41-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-41.png" class="lightbox" data-gallery="quarto-lightbox-gallery-49"><img src="index_files/figure-html/unnamed-chunk-18-41.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-42" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-42-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-42.png" class="lightbox" data-gallery="quarto-lightbox-gallery-50"><img src="index_files/figure-html/unnamed-chunk-18-42.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-43" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-43-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-43.png" class="lightbox" data-gallery="quarto-lightbox-gallery-51"><img src="index_files/figure-html/unnamed-chunk-18-43.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-44" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-44-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-44.png" class="lightbox" data-gallery="quarto-lightbox-gallery-52"><img src="index_files/figure-html/unnamed-chunk-18-44.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-45" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-45-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-45.png" class="lightbox" data-gallery="quarto-lightbox-gallery-53"><img src="index_files/figure-html/unnamed-chunk-18-45.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-46" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-46-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-46.png" class="lightbox" data-gallery="quarto-lightbox-gallery-54"><img src="index_files/figure-html/unnamed-chunk-18-46.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-47" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-47-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-47.png" class="lightbox" data-gallery="quarto-lightbox-gallery-55"><img src="index_files/figure-html/unnamed-chunk-18-47.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-48" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-48-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-48.png" class="lightbox" data-gallery="quarto-lightbox-gallery-56"><img src="index_files/figure-html/unnamed-chunk-18-48.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-49" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-49-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-49.png" class="lightbox" data-gallery="quarto-lightbox-gallery-57"><img src="index_files/figure-html/unnamed-chunk-18-49.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-50" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-50-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-50.png" class="lightbox" data-gallery="quarto-lightbox-gallery-58"><img src="index_files/figure-html/unnamed-chunk-18-50.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-51" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-51-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-51.png" class="lightbox" data-gallery="quarto-lightbox-gallery-59"><img src="index_files/figure-html/unnamed-chunk-18-51.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-52" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-52-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-52.png" class="lightbox" data-gallery="quarto-lightbox-gallery-60"><img src="index_files/figure-html/unnamed-chunk-18-52.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-53" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-53-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-53.png" class="lightbox" data-gallery="quarto-lightbox-gallery-61"><img src="index_files/figure-html/unnamed-chunk-18-53.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-54" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-54-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-54.png" class="lightbox" data-gallery="quarto-lightbox-gallery-62"><img src="index_files/figure-html/unnamed-chunk-18-54.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-55" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-55-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-55.png" class="lightbox" data-gallery="quarto-lightbox-gallery-63"><img src="index_files/figure-html/unnamed-chunk-18-55.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-56" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-56-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-56.png" class="lightbox" data-gallery="quarto-lightbox-gallery-64"><img src="index_files/figure-html/unnamed-chunk-18-56.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-57" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-57-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-57.png" class="lightbox" data-gallery="quarto-lightbox-gallery-65"><img src="index_files/figure-html/unnamed-chunk-18-57.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-58" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-58-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-58.png" class="lightbox" data-gallery="quarto-lightbox-gallery-66"><img src="index_files/figure-html/unnamed-chunk-18-58.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-59" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-59-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-59.png" class="lightbox" data-gallery="quarto-lightbox-gallery-67"><img src="index_files/figure-html/unnamed-chunk-18-59.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-60" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-60-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-60.png" class="lightbox" data-gallery="quarto-lightbox-gallery-68"><img src="index_files/figure-html/unnamed-chunk-18-60.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-61" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-61-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-61.png" class="lightbox" data-gallery="quarto-lightbox-gallery-69"><img src="index_files/figure-html/unnamed-chunk-18-61.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-62" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-62-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-62.png" class="lightbox" data-gallery="quarto-lightbox-gallery-70"><img src="index_files/figure-html/unnamed-chunk-18-62.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-63" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-63-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-63.png" class="lightbox" data-gallery="quarto-lightbox-gallery-71"><img src="index_files/figure-html/unnamed-chunk-18-63.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-64" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-64-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-64.png" class="lightbox" data-gallery="quarto-lightbox-gallery-72"><img src="index_files/figure-html/unnamed-chunk-18-64.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-65" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-65-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-65.png" class="lightbox" data-gallery="quarto-lightbox-gallery-73"><img src="index_files/figure-html/unnamed-chunk-18-65.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-66" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-66-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-66.png" class="lightbox" data-gallery="quarto-lightbox-gallery-74"><img src="index_files/figure-html/unnamed-chunk-18-66.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-67" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-67-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-67.png" class="lightbox" data-gallery="quarto-lightbox-gallery-75"><img src="index_files/figure-html/unnamed-chunk-18-67.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-68" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-68-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-68.png" class="lightbox" data-gallery="quarto-lightbox-gallery-76"><img src="index_files/figure-html/unnamed-chunk-18-68.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-69" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-69-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-69.png" class="lightbox" data-gallery="quarto-lightbox-gallery-77"><img src="index_files/figure-html/unnamed-chunk-18-69.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-70" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-70-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-70.png" class="lightbox" data-gallery="quarto-lightbox-gallery-78"><img src="index_files/figure-html/unnamed-chunk-18-70.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-71" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-71-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-71.png" class="lightbox" data-gallery="quarto-lightbox-gallery-79"><img src="index_files/figure-html/unnamed-chunk-18-71.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-72" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-72-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-72.png" class="lightbox" data-gallery="quarto-lightbox-gallery-80"><img src="index_files/figure-html/unnamed-chunk-18-72.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-73" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-73-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-73.png" class="lightbox" data-gallery="quarto-lightbox-gallery-81"><img src="index_files/figure-html/unnamed-chunk-18-73.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-74" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-74-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-74.png" class="lightbox" data-gallery="quarto-lightbox-gallery-82"><img src="index_files/figure-html/unnamed-chunk-18-74.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-75" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-75-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-75.png" class="lightbox" data-gallery="quarto-lightbox-gallery-83"><img src="index_files/figure-html/unnamed-chunk-18-75.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-76" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-76-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-76.png" class="lightbox" data-gallery="quarto-lightbox-gallery-84"><img src="index_files/figure-html/unnamed-chunk-18-76.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-77" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-77-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-77.png" class="lightbox" data-gallery="quarto-lightbox-gallery-85"><img src="index_files/figure-html/unnamed-chunk-18-77.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-78" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-78-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-78.png" class="lightbox" data-gallery="quarto-lightbox-gallery-86"><img src="index_files/figure-html/unnamed-chunk-18-78.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-79" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-79-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-79.png" class="lightbox" data-gallery="quarto-lightbox-gallery-87"><img src="index_files/figure-html/unnamed-chunk-18-79.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-80" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-80-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-80.png" class="lightbox" data-gallery="quarto-lightbox-gallery-88"><img src="index_files/figure-html/unnamed-chunk-18-80.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-81" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-81-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-81.png" class="lightbox" data-gallery="quarto-lightbox-gallery-89"><img src="index_files/figure-html/unnamed-chunk-18-81.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-82" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-82-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-82.png" class="lightbox" data-gallery="quarto-lightbox-gallery-90"><img src="index_files/figure-html/unnamed-chunk-18-82.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-83" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-83-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-83.png" class="lightbox" data-gallery="quarto-lightbox-gallery-91"><img src="index_files/figure-html/unnamed-chunk-18-83.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-84" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-84-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-84.png" class="lightbox" data-gallery="quarto-lightbox-gallery-92"><img src="index_files/figure-html/unnamed-chunk-18-84.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-85" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-85-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-85.png" class="lightbox" data-gallery="quarto-lightbox-gallery-93"><img src="index_files/figure-html/unnamed-chunk-18-85.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-86" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-86-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-86.png" class="lightbox" data-gallery="quarto-lightbox-gallery-94"><img src="index_files/figure-html/unnamed-chunk-18-86.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-87" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-87-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-87.png" class="lightbox" data-gallery="quarto-lightbox-gallery-95"><img src="index_files/figure-html/unnamed-chunk-18-87.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-88" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-88-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-88.png" class="lightbox" data-gallery="quarto-lightbox-gallery-96"><img src="index_files/figure-html/unnamed-chunk-18-88.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-89" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-89-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-89.png" class="lightbox" data-gallery="quarto-lightbox-gallery-97"><img src="index_files/figure-html/unnamed-chunk-18-89.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-90" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-90-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-90.png" class="lightbox" data-gallery="quarto-lightbox-gallery-98"><img src="index_files/figure-html/unnamed-chunk-18-90.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-91" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-91-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-91.png" class="lightbox" data-gallery="quarto-lightbox-gallery-99"><img src="index_files/figure-html/unnamed-chunk-18-91.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-92" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-92-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-92.png" class="lightbox" data-gallery="quarto-lightbox-gallery-100"><img src="index_files/figure-html/unnamed-chunk-18-92.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-93" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-93-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-93.png" class="lightbox" data-gallery="quarto-lightbox-gallery-101"><img src="index_files/figure-html/unnamed-chunk-18-93.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-94" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-94-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-94.png" class="lightbox" data-gallery="quarto-lightbox-gallery-102"><img src="index_files/figure-html/unnamed-chunk-18-94.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-95" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-95-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-95.png" class="lightbox" data-gallery="quarto-lightbox-gallery-103"><img src="index_files/figure-html/unnamed-chunk-18-95.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-96" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-96-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-96.png" class="lightbox" data-gallery="quarto-lightbox-gallery-104"><img src="index_files/figure-html/unnamed-chunk-18-96.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-97" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-97-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-97.png" class="lightbox" data-gallery="quarto-lightbox-gallery-105"><img src="index_files/figure-html/unnamed-chunk-18-97.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-98" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-98-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-98.png" class="lightbox" data-gallery="quarto-lightbox-gallery-106"><img src="index_files/figure-html/unnamed-chunk-18-98.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-99" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-99-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-99.png" class="lightbox" data-gallery="quarto-lightbox-gallery-107"><img src="index_files/figure-html/unnamed-chunk-18-99.png" class="img-fluid" width="672"></a></p>
</div>
<div id="tabset-1-100" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-100-tab">
<p><a href="index_files/figure-html/unnamed-chunk-18-100.png" class="lightbox" data-gallery="quarto-lightbox-gallery-108"><img src="index_files/figure-html/unnamed-chunk-18-100.png" class="img-fluid" width="672"></a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>It’s worth noting that while probabilistic topic models excel at exploratory analysis, they tend to perform less effectively on small textual inputs like titles. However, they demonstrate far greater accuracy and insights when applied to larger text samples, such as abstracts. This is precisely what we’ll explore in our next blog post—stay tuned!</p>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-blei2012probabilistic" class="csl-entry" role="listitem">
Blei, David M. 2012. <span>“Probabilistic Topic Models.”</span> <em>Communications of the ACM</em> 55 (4): 77–84.
</div>
<div id="ref-roberts2013structural" class="csl-entry" role="listitem">
Roberts, Margaret E, Brandon M Stewart, Dustin Tingley, Edoardo M Airoldi, et al. 2013. <span>“The Structural Topic Model and Applied Social Science.”</span> In <em>Advances in Neural Information Processing Systems Workshop on Topic Models: Computation, Application, and Evaluation</em>, 4:1–20. 1. Harrahs; Harveys, Lake Tahoe.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Actually some other considerations can lead the choice of the row to keep, such as selecting the row with more extensive information.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Of course the choice of <span class="math inline">\(K\)</span> should be determined with greater care; however, starting with <span class="math inline">\(K = 100\)</span> with 20,000 documents provides a reasonable basis for exploration.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/tdelcey/becoming_economists/blob/main/application/stm_title/index.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/tdelcey/becoming_economists/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://thomasdelcey.com/">
<p>© Thomas Delcey</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://aurelien-goutsmedt.com">
<p>Aurelien Goutsmedt</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","openEffect":"zoom","loop":false,"descPosition":"bottom","closeEffect":"zoom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>